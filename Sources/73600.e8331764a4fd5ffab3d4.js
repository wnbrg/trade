"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[73600],{323109:(e,t,i)=>{i.d(t,{containsBackgroundTimePointIndexes:()=>o,dematerializeBackground:()=>a,isBackgroundInBarsRange:()=>d,materializeBackground:()=>l});var n=i(650151),s=i(732149),r=i(178389);const o=!0;function l(e,t){if(e.start>=t.length||e.stop>=t.length)return null;const i=t[e.start],r=t[e.stop];return r===s.INVALID_TIME_POINT_INDEX?null:((0,n.assert)(i===s.INVALID_TIME_POINT_INDEX||i<=r,"start should not exceed stop"),{start:i===s.INVALID_TIME_POINT_INDEX?null:i,stop:r})}function a(e,t,i){return{id:t,start:(0,r.ensureTimePointIndexIndex)(i.indexOf(null!==e.start?e.start:s.INVALID_TIME_POINT_INDEX)),stop:(0,r.ensureTimePointIndexIndex)(i.indexOf(e.stop))}}function d(e,t){if(null===e.start)return t.firstBar()<=e.stop;const i=Math.min(e.start,e.stop),n=Math.max(e.start,e.stop);return t.contains(i)||t.contains(n)||i<t.firstBar()&&n>t.lastBar()}},206395:(e,t,i)=>{i.d(t,{DwgBoxFontType:()=>r,DwgBoxStyle:()=>n,containsDwgBoxTimePointIndexes:()=>d,dematerializeDwgBox:()=>h,isDwgBoxInBarsRange:()=>m,materializeDwgBox:()=>c});var n,s,r,o=i(732149),l=i(178389),a=i(92245);!function(e){e.Solid="sol",e.Dotted="dot",e.Dashed="dsh",e.LeftArrow="al",e.RightArrow="ar",e.BothArrow="ab"}(n||(n={})),function(e){e.Top="top",e.Center="center",e.Bottom="bottom"}(s||(s={})),function(e){e.Monospace="monospace"}(r||(r={}));const d=!0;function c(e,t){var i,n;if(e.x1>=t.length||e.x2>=t.length||null===e.y1||null===e.y2)return null;let s=t[e.x1],r=t[e.x2];return s===o.INVALID_TIME_POINT_INDEX&&(s=null),r===o.INVALID_TIME_POINT_INDEX&&(r=null),{left:s,right:r,top:e.y1,bottom:e.y2,borderColorIndex:e.c,backgroundColorIndex:e.bc,extend:e.ex,borderStyle:e.st,borderWidth:e.w,text:e.t,wordWrap:e.tw,horizontalTextAlignment:e.tha,verticalTextAlignment:e.tva,fontSize:e.ts,textColorIndex:null!==(i=e.tc)&&void 0!==i?i:null,fontType:null!==(n=e.tf)&&void 0!==n?n:null}}function h(e,t,i){var n,s,r;return{id:t,x1:(0,l.ensureTimePointIndexIndex)(i.indexOf(null!==(n=e.left)&&void 0!==n?n:o.INVALID_TIME_POINT_INDEX)),x2:(0,l.ensureTimePointIndexIndex)(i.indexOf(null!==(s=e.right)&&void 0!==s?s:o.INVALID_TIME_POINT_INDEX)),y1:e.top,y2:e.bottom,c:e.borderColorIndex,bc:e.backgroundColorIndex,ex:e.extend,st:e.borderStyle,w:e.borderWidth,t:e.text,tw:e.wordWrap,tha:e.horizontalTextAlignment,tva:e.verticalTextAlignment,ts:e.fontSize,tf:null!==(r=e.fontType)&&void 0!==r?r:void 0,tc:e.textColorIndex}}function m(e,t){const i=e.extend;if(i===a.DwgExtend.Both)return null===e.left||null===e.right;if(null===e.left||null===e.right)return null!==e.right?e.right<=t.lastBar()&&i===a.DwgExtend.Right:null!==e.left&&(e.left>=t.firstBar()&&i===a.DwgExtend.Left);const n=Math.min(e.left,e.right),s=Math.max(e.left,e.right);if(t.contains(n)||t.contains(s)||n<t.firstBar()&&s>t.lastBar())return!0;const r=e.left<e.right?e.extend===a.DwgExtend.Left:e.extend===a.DwgExtend.Right,o=e.left<e.right?e.extend===a.DwgExtend.Right:e.extend===a.DwgExtend.Left;return s<t.firstBar()&&o||n>t.lastBar()&&r}},
294024:(e,t,i)=>{i.d(t,{DwgLabelStyle:()=>r,DwgLabelTextAlign:()=>n,DwgLabelYloc:()=>s,containsDwgLabelTimePointIndexes:()=>d,dematerializeDwgLabel:()=>h,isDwgLabelInBarsRange:()=>m,materializeDwgLabel:()=>c});var n,s,r,o,l=i(732149),a=i(178389);!function(e){e.Left="left",e.Center="center",e.Right="right"}(n||(n={})),function(e){e.AboveBar="ab",e.BelowBar="bl",e.Price="pr",e.Auto="auto"}(s||(s={})),function(e){e.Xcross="xcr",e.Cross="cr",e.Triangleup="tup",e.Triangledown="tdn",e.Flag="flg",e.Circle="cir",e.Arrowup="aup",e.Arrowdown="adn",e.LabelUp="lup",e.LabelDown="ldn",e.LabelLeft="llf",e.LabelRight="lrg",e.LabelCenter="lcn",e.LabelLeftUp="luplf",e.LabelLeftDown="llwlf",e.LabelRightUp="luprg",e.LabelRightDown="llwrg",e.Square="sq",e.Diamond="dia",e.TextOutline="to",e.None="n"}(r||(r={})),function(e){e.Monospace="monospace"}(o||(o={}));const d=!0;function c(e,t){var i;if(e.x>=t.length)return null;const s=t[e.x];return s===l.INVALID_TIME_POINT_INDEX?null:{x:s,y:e.y,yloc:e.yl,text:e.t,style:e.st,size:e.sz,colorIndex:e.ci,textColorIndex:e.tci,textAlign:e.ta||n.Center,tooltip:e.tt||"",fontType:null!==(i=e.tf)&&void 0!==i?i:null}}function h(e,t,i){var n;return{id:t,x:(0,a.ensureTimePointIndexIndex)(i.indexOf(e.x)),y:e.y,yl:e.yloc,t:e.text,st:e.style,sz:e.size,ci:e.colorIndex,tci:e.textColorIndex,ta:e.textAlign,tt:e.tooltip,tf:null!==(n=e.fontType)&&void 0!==n?n:void 0}}function m(e,t){return t.contains(e.x)}},934393:(e,t,i)=>{i.d(t,{containsDwgLineFillTimePointIndexes:()=>n,dematerializeDwgLineFill:()=>r,materializeDwgLineFill:()=>s});const n=!1;function s(e){return{id:e.id,line1:e.line1,line2:e.line2,colorIndex:e.ci}}function r(e,t){return{id:t,line1:e.line1,line2:e.line2,ci:e.colorIndex}}},258940:(e,t,i)=>{i.d(t,{DwgLineStyle:()=>n,containsDwgLineTimePointIndexes:()=>l,dematerializeDwgLine:()=>d,isDwgLineInBarsRange:()=>c,materializeDwgLine:()=>a});var n,s=i(732149),r=i(178389),o=i(92245);!function(e){e.Solid="sol",e.Dotted="dot",e.Dashed="dsh",e.LeftArrow="al",e.RightArrow="ar",e.BothArrow="ab"}(n||(n={}));const l=!0;function a(e,t){if(e.x1>=t.length||e.x2>=t.length||null===e.y1||null===e.y2)return null;let i=t[e.x1],n=t[e.x2];return i===s.INVALID_TIME_POINT_INDEX&&(i=null),n===s.INVALID_TIME_POINT_INDEX&&(n=null),null!==i&&null!==n||e.y1===e.y2?{id:e.id,x1:i,y1:e.y1,x2:n,y2:e.y2,style:e.st,extend:e.ex,width:e.w,colorIndex:e.ci}:null}function d(e,t,i){var n,o;const l=(0,r.ensureTimePointIndexIndex)(i.indexOf(null!==(n=e.x1)&&void 0!==n?n:s.INVALID_TIME_POINT_INDEX)),a=(0,r.ensureTimePointIndexIndex)(i.indexOf(null!==(o=e.x2)&&void 0!==o?o:s.INVALID_TIME_POINT_INDEX));return{id:t,x1:l,y1:e.y1,x2:a,y2:e.y2,st:e.style,ex:e.extend,w:e.width,ci:e.colorIndex}}function c(e,t){const i=e.extend;if(i===o.DwgExtend.Both)return null===e.x1||null===e.x2;if(null===e.x1||null===e.x2)return null!==e.x2?e.x2<=t.lastBar()&&i===o.DwgExtend.Right:null!==e.x1&&(e.x1>=t.firstBar()&&i===o.DwgExtend.Left);const n=Math.min(e.x1,e.x2),s=Math.max(e.x1,e.x2);if(t.contains(n)||t.contains(s)||n<t.firstBar()&&s>t.lastBar())return!0
;const r=e.x1<e.x2?e.extend===o.DwgExtend.Left:e.extend===o.DwgExtend.Right,l=e.x1<e.x2?e.extend===o.DwgExtend.Right:e.extend===o.DwgExtend.Left;return s<t.firstBar()&&l||n>t.lastBar()&&r}},590836:(e,t,i)=>{var n,s;i.d(t,{DwgTableCellFontType:()=>s,containsDwgTableCellTimePointIndexes:()=>a,containsDwgTableTimePointIndexes:()=>r,dematerializeDwgTable:()=>l,dematerializeDwgTableCell:()=>c,materializeDwgTable:()=>o,materializeDwgTableCell:()=>d}),function(e){e.Top="top",e.Center="center",e.Bottom="bottom"}(n||(n={})),function(e){e.Monospace="monospace"}(s||(s={}));const r=!1;function o(e,t){return{id:e.id,position:e.pos,rows:e.rows,columns:e.cols,backgroundColorIndex:e.bgc,frameColorIndex:e.frmc,frameWidth:e.frmw,borderColorIndex:e.brdc,borderWidth:e.brdw}}function l(e,t,i){return{id:t,pos:e.position,rows:e.rows,cols:e.columns,bgc:e.backgroundColorIndex,frmc:e.frameColorIndex,frmw:e.frameWidth,brdc:e.borderColorIndex,brdw:e.borderWidth}}const a=!1;function d(e,t){var i,n,s;return{tableId:e.tid,row:e.row,column:e.col,widthInPercentsOfPaneWidth:e.w,heightInPercentOfPaneHeight:e.h,text:e.t,textColorIndex:e.tc,horizontalTextAlignment:e.tha,verticalTextAlignment:e.tva,fontSize:e.ts,backgroundColorIndex:e.bgc,colSpan:null!==(i=e.colspan)&&void 0!==i?i:1,rowSpan:null!==(n=e.rowspan)&&void 0!==n?n:1,tooltip:e.tt,fontType:null!==(s=e.tf)&&void 0!==s?s:null}}function c(e,t,i){var n;return{id:t,tid:e.tableId,row:e.row,col:e.column,w:e.widthInPercentsOfPaneWidth,h:e.heightInPercentOfPaneHeight,t:e.text,tc:e.textColorIndex,tha:e.horizontalTextAlignment,tva:e.verticalTextAlignment,ts:e.fontSize,bgc:e.backgroundColorIndex,colspan:e.colSpan,rowspan:e.rowSpan,tt:e.tooltip,tf:null!==(n=e.fontType)&&void 0!==n?n:void 0}}},396372:(e,t,i)=>{i.d(t,{HHistDirection:()=>n,HHistLocation:()=>s,HHistVolumeMode:()=>r,containsHHistTimePointIndexes:()=>d,dematerializeHHist:()=>h,isHHistInBarsRange:()=>m,materializeHHist:()=>c});var n,s,r,o=i(650151),l=i(732149),a=i(178389);!function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(n||(n={})),function(e){e.Relative="relative",e.Absolute="absolute"}(s||(s={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(r||(r={}));const d=!0;function c(e,t){if(e.firstBarTime>=t.length||e.lastBarTime>=t.length)return null;const i=t[e.firstBarTime],n=t[e.lastBarTime];return i===l.INVALID_TIME_POINT_INDEX||n===l.INVALID_TIME_POINT_INDEX?null:((0,o.assert)(i<=n,"firstBarTime should not exceed lastBarTime"),(0,o.assert)(e.priceLow<=e.priceHigh,"priceLow should not exceed priceHigh"),{firstBarTime:i,lastBarTime:n,rate:e.rate,priceHigh:e.priceHigh,priceLow:e.priceLow})}function h(e,t,i){const n=(0,a.ensureTimePointIndexIndex)(i.indexOf(e.firstBarTime)),s=(0,a.ensureTimePointIndexIndex)(i.indexOf(e.lastBarTime));return{id:t,...e,firstBarTime:n,lastBarTime:s}}function m(e,t){const i=Math.min(e.firstBarTime,e.lastBarTime),n=Math.max(e.firstBarTime,e.lastBarTime);return t.contains(i)||t.contains(n)||i<t.firstBar()&&n>t.lastBar()}},921124:(e,t,i)=>{i.d(t,{containsHorizLineTimePointIndexes:()=>o,
dematerializeHorizLine:()=>a,isHorizLineInBarsRange:()=>d,materializeHorizLine:()=>l});var n=i(650151),s=i(732149),r=i(178389);const o=!0;function l(e,t){if(e.startIndex>=t.length||e.endIndex>=t.length)return null;const i=t[e.startIndex],r=t[e.endIndex];return i===s.INVALID_TIME_POINT_INDEX||r===s.INVALID_TIME_POINT_INDEX?null:((0,n.assert)(i<=r,"startIndex should not exceed endIndex"),{startIndex:i,endIndex:r,level:e.level,extendLeft:e.extendLeft,extendRight:e.extendRight})}function a(e,t,i){const n=(0,r.ensureTimePointIndexIndex)(i.indexOf(e.startIndex)),s=(0,r.ensureTimePointIndexIndex)(i.indexOf(e.endIndex));return{id:t,...e,startIndex:n,endIndex:s}}function d(e,t){const i=Math.min(e.startIndex,e.endIndex),n=Math.max(e.startIndex,e.endIndex);if(t.contains(i)||t.contains(n)||i<t.firstBar()&&n>t.lastBar())return!0;const s=e.startIndex<e.endIndex?e.extendLeft:e.extendRight,r=e.startIndex<e.endIndex?e.extendRight:e.extendLeft;return n<t.firstBar()&&r||i>t.lastBar()&&s}},276636:(e,t,i)=>{var n;i.d(t,{TextPos:()=>n,containsLevelTimePointIndexes:()=>s,dematerializeLevel:()=>o,materializeLevel:()=>r}),function(e){e[e.TopLeft=0]="TopLeft",e[e.TopCenter=1]="TopCenter",e[e.TopRight=2]="TopRight",e[e.MiddleLeft=3]="MiddleLeft",e[e.MiddleCenter=4]="MiddleCenter",e[e.MiddleRight=5]="MiddleRight",e[e.BottomLeft=6]="BottomLeft",e[e.BottomCenter=7]="BottomCenter",e[e.BottomRight=8]="BottomRight"}(n||(n={}));const s=!1;function r(e){return{level:e.level,text:e.text}}function o(e,t,i){return{id:t,...e}}},573947:(e,t,i)=>{i.d(t,{containsLineTimePointIndexes:()=>o,dematerializeLine:()=>a,isLineInBarsRange:()=>d,materializeLine:()=>l});var n=i(650151),s=i(732149),r=i(178389);const o=!0;function l(e,t){if(e.startIndex>=t.length||e.endIndex>=t.length)return null;const i=t[e.startIndex],r=t[e.endIndex];return i===s.INVALID_TIME_POINT_INDEX||r===s.INVALID_TIME_POINT_INDEX?null:((0,n.assert)(i<=r,"startIndex should not exceed endIndex"),{startIndex:i,endIndex:r,startOffset:e.startOffset,endOffset:e.endOffset,startPrice:e.startPrice,endPrice:e.endPrice})}function a(e,t,i){const n=(0,r.ensureTimePointIndexIndex)(i.indexOf(e.startIndex)),s=(0,r.ensureTimePointIndexIndex)(i.indexOf(e.endIndex));return{id:t,...e,startIndex:n,endIndex:s}}function d(e,t){var i,n;const s=e.startIndex+(null!==(i=e.startOffset)&&void 0!==i?i:0),r=e.endIndex+(null!==(n=e.endOffset)&&void 0!==n?n:0),o=Math.min(s,r),l=Math.max(s,r);return t.contains(s)||t.contains(r)||o<t.firstBar()&&l>t.lastBar()}},855428:(e,t,i)=>{i.d(t,{LiveStudyGraphics:()=>D});var n=i(650151),s=i(707957),r=i(396372),o=i(921124),l=i(329081),a=i(878475),d=i(323109),c=i(294024),h=i(258940),m=i(206395),x=i(276636),u=i(573947),p=i(14721),I=i(593885),g=i(180857),_=i(590836),f=i(934393),w=i(755470),T=i(952499),v=i(583884),b=i(686242),B=i(130551);function y(e){const t=JSON.parse(e.pp);var i;return(0,n.assert)("s"in(i=t)&&(0,B.isObject)(i.s)&&"l"in i.s&&"c"in i.s&&"e"in i&&(0,B.isObject)(i.e)&&"l"in i.e&&"c"in i.e,"unexpected log source"),{barTime:e.t,time:e.tms,level:e.ll,source:{start:{line:t.s.l,
column:t.s.c},end:{line:t.e.l,column:t.e.c}},message:e.m}}var L=i(590713),k=i(2605),z=i(735758);class D{constructor(e={}){this._indexes=[],this._hhistsByTimePointIndex=new Map,this._primitivesCollection=function(e){const t={};for(const i of L.primitiveNames){t[i]=new Map;const n=e[i];if(void 0!==n)for(const e in n)if(n.hasOwnProperty(e))switch(i){case"horizlines":t[i].set(e,new P(o.materializeHorizLine,o.containsHorizLineTimePointIndexes));break;case"vertlines":t[i].set(e,new P(l.materializeVertLine,l.containsVertLineTimePointIndexes));break;case"lines":t[i].set(e,new P(u.materializeLine,u.containsLineTimePointIndexes));break;case"hlines":t[i].set(e,new P(x.materializeLevel,x.containsLevelTimePointIndexes));break;case"textmarks":t[i].set(e,new P(I.materializeTextMark,I.containsTextMarkTimePointIndexes));break;case"shapemarks":t[i].set(e,new P(p.materializeShapeMark,p.containsShapeMarkTimePointIndexes));break;case"backgrounds":t[i].set(e,new P(d.materializeBackground,d.containsBackgroundTimePointIndexes));break;case"polygons":t[i].set(e,new P(a.materializePolygon,a.containsPolygonTimePointIndexes));break;case"trendchannels":t[i].set(e,new P(g.materializeTrendChannel,g.containsTrendChannelTimePointIndexes));break;case"hhists":t[i].set(e,new P(r.materializeHHist,r.containsHHistTimePointIndexes));break;case"dwglabels":t[i].set(e,new P(c.materializeDwgLabel,c.containsDwgLabelTimePointIndexes));break;case"dwglines":t[i].set(e,new P(h.materializeDwgLine,h.containsDwgLineTimePointIndexes));break;case"dwgboxes":t[i].set(e,new P(m.materializeDwgBox,m.containsDwgBoxTimePointIndexes));break;case"dwgtables":t[i].set(e,new P(_.materializeDwgTable,_.containsDwgTableTimePointIndexes));break;case"dwgtablecells":t[i].set(e,new P(_.materializeDwgTableCell,_.containsDwgTableCellTimePointIndexes));break;case"dwglinefills":t[i].set(e,new P(f.materializeDwgLineFill,f.containsDwgLineFillTimePointIndexes));break;case"tpos":t[i].set(e,new P(w.materializeTpo,w.containsTpoTimePointIndexes));break;case"tpoBlockSets":t[i].set(e,new P(T.materializeTpoBlockSet,T.containsTpoBlockSetTimePointIndexes));break;case"tpoLevels":t[i].set(e,new P(v.materializeTpoLevelGroup,v.containsTpoLevelGroupTimePointIndexes));break;case"tpoVolumeRows":t[i].set(e,new P(b.materializeTpoVolumeRow,b.containsTpoVolumeRowTimePointIndexes));break;case"logs":t[i].set(e,new P(y,false))}}return t}(e),this._tpoBlockSetsByStyleIdAndTpoId=(0,z.setsByStyleIdAndKey)(this._primitivesCollection.tpoBlockSets,(e=>e.tpoId)),this._tpoVolumeRowsByStyleIdAndTpoId=(0,z.setsByStyleIdAndKey)(this._primitivesCollection.tpoVolumeRows,(e=>e.tpoId))}horizlines(){return this._primitivesCollection.horizlines}vertlines(){return this._primitivesCollection.vertlines}lines(){return this._primitivesCollection.lines}hlines(){return this._primitivesCollection.hlines}textmarks(){return this._primitivesCollection.textmarks}shapemarks(){return this._primitivesCollection.shapemarks}backgrounds(){return this._primitivesCollection.backgrounds}polygons(){return this._primitivesCollection.polygons}trendchannels(){
return this._primitivesCollection.trendchannels}hhists(){return this._primitivesCollection.hhists}dwglabels(){return this._primitivesCollection.dwglabels}dwglines(){return this._primitivesCollection.dwglines}dwgboxes(){return this._primitivesCollection.dwgboxes}dwgtables(){return this._primitivesCollection.dwgtables}dwgtablecells(){return this._primitivesCollection.dwgtablecells}dwglinefills(){return this._primitivesCollection.dwglinefills}tpos(){return this._primitivesCollection.tpos}tpoBlockSets(){return this._primitivesCollection.tpoBlockSets}tpoBlockSetsByStyleAndTpoId(e,t){return this._tpoBlockSetsByStyleIdAndTpoId.get(e,t)}tpoLevels(){return this._primitivesCollection.tpoLevels}tpoVolumeRows(){return this._primitivesCollection.tpoVolumeRows}tpoVolumeRowByStyleAndTpoId(e,t){return this._tpoVolumeRowsByStyleIdAndTpoId.get(e,t)}logs(){return this._primitivesCollection.logs}observableLogs(){return this._primitivesCollection.logs}hhistsByTimePointIndex(){return this._hhistsByTimePointIndex}clear(){this._indexes=[];for(const e of L.primitiveNames)this._primitivesCollection[e].forEach((e=>e.clear()));this._hhistsByTimePointIndex=new Map}extract(){const e=e=>e.extract(),t={indexes:this._indexes,horizlines:C(this._primitivesCollection.horizlines,e),vertlines:C(this._primitivesCollection.vertlines,e),lines:C(this._primitivesCollection.lines,e),hlines:C(this._primitivesCollection.hlines,e),textmarks:C(this._primitivesCollection.textmarks,e),shapemarks:C(this._primitivesCollection.shapemarks,e),backgrounds:C(this._primitivesCollection.backgrounds,e),polygons:C(this._primitivesCollection.polygons,e),trendchannels:C(this._primitivesCollection.trendchannels,e),hhists:C(this._primitivesCollection.hhists,e),dwglabels:C(this._primitivesCollection.dwglabels,e),dwglines:C(this._primitivesCollection.dwglines,e),dwgboxes:C(this._primitivesCollection.dwgboxes,e),dwgtables:C(this._primitivesCollection.dwgtables,e),dwgtablecells:C(this._primitivesCollection.dwgtablecells,e),dwglinefills:C(this._primitivesCollection.dwglinefills,e),tpos:C(this._primitivesCollection.tpos,e),tpoBlockSets:C(this._primitivesCollection.tpoBlockSets,e),tpoLevels:C(this._primitivesCollection.tpoLevels,e),tpoVolumeRows:C(this._primitivesCollection.tpoVolumeRows,e),logs:new Map};return this._hhistsByTimePointIndex=new Map,new k.StaticStudyGraphics("data",t)}replaceIndexesTo(e){this._indexes=e;const t=e=>e.replaceIndexesTo(this._indexes);for(const e of L.primitiveNames)this._primitivesCollection[e].forEach(t);this._hhistsByTimePointIndex=(0,L.splitHHistsByTimePointIndex)(this._primitivesCollection.hhists)}processCommands(e){void 0!==e.erase&&this._processEraseCommands(e.erase),void 0!==e.create&&this._processCreateCommands(e.create)}_processCreateCommands(e){for(const t in e){if(!e.hasOwnProperty(t))continue;const i=t;switch(i){case"horizlines":E(this._indexes,this._primitivesCollection.horizlines,e[i]);break;case"vertlines":E(this._indexes,this._primitivesCollection.vertlines,e[i]);break;case"lines":E(this._indexes,this._primitivesCollection.lines,e[i]);break
;case"hlines":E(this._indexes,this._primitivesCollection.hlines,e[i]);break;case"textmarks":E(this._indexes,this._primitivesCollection.textmarks,e[i]);break;case"shapemarks":E(this._indexes,this._primitivesCollection.shapemarks,e[i]);break;case"backgrounds":E(this._indexes,this._primitivesCollection.backgrounds,e[i]);break;case"polygons":E(this._indexes,this._primitivesCollection.polygons,e[i]);break;case"trendchannels":E(this._indexes,this._primitivesCollection.trendchannels,e[i]);break;case"hhists":E(this._indexes,this._primitivesCollection.hhists,e[i]);break;case"dwglabels":E(this._indexes,this._primitivesCollection.dwglabels,e[i]);break;case"dwglines":E(this._indexes,this._primitivesCollection.dwglines,e[i]);break;case"dwgboxes":E(this._indexes,this._primitivesCollection.dwgboxes,e[i]);break;case"dwgtables":E(this._indexes,this._primitivesCollection.dwgtables,e[i]);break;case"dwgtablecells":E(this._indexes,this._primitivesCollection.dwgtablecells,e[i]);break;case"dwglinefills":E(this._indexes,this._primitivesCollection.dwglinefills,e[i]);break;case"tpos":E(this._indexes,this._primitivesCollection.tpos,e[i]);break;case"tpoBlockSets":E(this._indexes,this._primitivesCollection.tpoBlockSets,e[i]);break;case"tpoLevels":E(this._indexes,this._primitivesCollection.tpoLevels,e[i]);break;case"tpoVolumeRows":E(this._indexes,this._primitivesCollection.tpoVolumeRows,e[i]);break;case"logs":E(this._indexes,this._primitivesCollection.logs,e[i])}}this._hhistsByTimePointIndex=(0,L.splitHHistsByTimePointIndex)(this._primitivesCollection.hhists)}_processEraseCommands(e){for(const t of e)if("all"===t.action)for(const e of L.primitiveNames)this._primitivesCollection[e].forEach((e=>e.clearPrimitives()));else{const e=e=>e.deleteById(t.id);this._primitivesCollection[t.type].forEach(e)}this._hhistsByTimePointIndex=(0,L.splitHHistsByTimePointIndex)(this._primitivesCollection.hhists)}}class P{constructor(e,t){this._primitivesDataById=new Map,this._primitiveById=new Map,this._changed=new s.Delegate,this._cleared=new s.Delegate,this._materializePrimitive=e,this._isRematerializationRequiredWithNewIndexes=t}changed(){return this._changed}cleared(){return this._cleared}forEach(e,t){this._primitiveById.forEach((i=>{e.call(t,i,i,this)}))}has(e){let t=!1;return this._primitiveById.forEach((i=>{t=t||i===e})),t}get size(){return this._primitiveById.size}[Symbol.iterator](){return this._primitiveById.values()}entries(){throw new Error("Not implemented")}keys(){throw new Error("Not implemented")}values(){return this._primitiveById.values()}hasId(e){return this._primitiveById.has(e)}addData(e,t){const i=[];e.forEach((e=>{this._primitivesDataById.set(e.id,e);const n=this._tryMaterialize(t,e);null!==n&&i.push(n)})),i.length>0&&this._changed.fire({created:i,removed:[]})}deleteById(e){const t=this._primitiveById.get(e);t&&(this._primitiveById.delete(e),this._primitivesDataById.delete(e),this._changed.fire({created:[],removed:[t]}))}clear(){this.clearPrimitives()}clearPrimitives(){this._primitivesDataById.clear(),this._primitiveById.clear(),
this._cleared.fire()}replaceIndexesTo(e){if(!this._isRematerializationRequiredWithNewIndexes)return;const t=Array.from(this._primitiveById.values());this._primitiveById.clear(),this._primitivesDataById.forEach(this._tryMaterialize.bind(this,e),this);const i=Array.from(this._primitiveById.values());this._changed.fire({created:i,removed:t})}extract(){const e=new Set(this._primitivesDataById.values());return this.clearPrimitives(),e}_tryMaterialize(e,t){const i=this._materializePrimitive(t,e);return null!==i&&((0,n.assert)(!this._primitiveById.has(t.id),"primitive with specified id should not exist"),this._primitiveById.set(t.id,i)),i}}function C(e,t){const i=new Map;return e.forEach(((e,n)=>i.set(n,t(e)))),i}function E(e,t,i=[]){for(const s of i){const i=s.styleId,r=t.get(i);(0,n.assert)(void 0!==r,"Every style used by graphics primitive should be declared in study metainfo"),r.addData(s.data,e)}}},878475:(e,t,i)=>{i.d(t,{containsPolygonTimePointIndexes:()=>r,dematerializePolygon:()=>l,isPolygonInBarsRange:()=>a,materializePolygon:()=>o});var n=i(732149),s=i(178389);const r=!0;function o(e,t){for(const i of e.points){if(i.index>=t.length)return null;if(t[i.index]===n.INVALID_TIME_POINT_INDEX)return null}return{points:e.points.map((e=>({index:t[e.index],offset:e.offset,level:e.level})))}}function l(e,t,i){return{id:t,points:e.points.map((e=>({...e,index:(0,s.ensureTimePointIndexIndex)(i.indexOf(e.index))})))}}function a(e,t){var i;if(e.points.some((e=>{var i;return t.contains(e.index+(null!==(i=e.offset)&&void 0!==i?i:0))})))return!0;let n=!1,s=!1;const r=t.firstBar();for(const t of e.points)t.index+(null!==(i=t.offset)&&void 0!==i?i:0)<r?n=!0:s=!0;return n&&s}},14721:(e,t,i)=>{i.d(t,{containsShapeMarkTimePointIndexes:()=>o,dematerializeShapeMark:()=>a,isShapeMarkInBarsRange:()=>d,materializeShapeMark:()=>l});var n,s=i(732149),r=i(178389);!function(e){e.Circle="circle",e.ArrowUp="arrowUp",e.ArrowDown="arrowDown",e.ArrowRight="arrowRight",e.ArrowLeft="arrowLeft",e.Square="square"}(n||(n={}));const o=!0;function l(e,t){if(e.time>=t.length)return null;const i=t[e.time];return i===s.INVALID_TIME_POINT_INDEX?null:{time:i,price:e.price}}function a(e,t,i){const n=(0,r.ensureTimePointIndexIndex)(i.indexOf(e.time));return{id:t,...e,time:n}}function d(e,t){return t.contains(e.time)}},2605:(e,t,i)=>{i.d(t,{StaticStudyGraphics:()=>y,emptyStudyGraphics:()=>D,loadStudyGraphics:()=>P,saveStudyGraphics:()=>E});var n=i(732149),s=i(921124),r=i(329081),o=i(396372),l=i(878475),a=i(323109),d=i(276636),c=i(573947),h=i(14721),m=i(593885),x=i(180857),u=i(294024),p=i(258940),I=i(206395),g=i(590836),_=i(934393),f=i(755470),w=i(952499),T=i(583884),v=i(686242),b=i(590713),B=i(735758);class y{constructor(e,t){if(this._indexes=[],this._horizlines=new Map,this._vertlines=new Map,this._lines=new Map,this._hlines=new Map,this._textmarks=new Map,this._shapemarks=new Map,this._backgrounds=new Map,this._polygons=new Map,this._trendchannels=new Map,this._hhists=new Map,this._dwglabels=new Map,this._dwglines=new Map,this._dwgboxes=new Map,
this._dwgtables=new Map,this._dwgtablecells=new Map,this._dwglinefills=new Map,this._tpos=new Map,this._tpoBlockSets=new Map,this._tpoLevelGroups=new Map,this._tpoVolumeRows=new Map,this._logs=new Map,"data"===e){const e=t;this._indexes=e.indexes,this._vertlines=L(e.vertlines,this._indexes,r.materializeVertLine),this._horizlines=L(e.horizlines,this._indexes,s.materializeHorizLine),this._polygons=L(e.polygons,this._indexes,l.materializePolygon),this._hhists=L(e.hhists,this._indexes,o.materializeHHist),this._backgrounds=L(e.backgrounds,this._indexes,a.materializeBackground),this._lines=L(e.lines,this._indexes,c.materializeLine),this._hlines=L(e.hlines,this._indexes,d.materializeLevel),this._textmarks=L(e.textmarks,this._indexes,m.materializeTextMark),this._shapemarks=L(e.shapemarks,this._indexes,h.materializeShapeMark),this._trendchannels=L(e.trendchannels,this._indexes,x.materializeTrendChannel),this._dwglabels=L(e.dwglabels,this._indexes,u.materializeDwgLabel),this._dwglines=L(e.dwglines,this._indexes,p.materializeDwgLine),this._dwgboxes=L(e.dwgboxes,this._indexes,I.materializeDwgBox),this._dwgtables=L(e.dwgtables,this._indexes,g.materializeDwgTable),this._dwgtablecells=L(e.dwgtablecells,this._indexes,g.materializeDwgTableCell),this._dwglinefills=L(e.dwglinefills,this._indexes,_.materializeDwgLineFill),this._tpos=L(e.tpos,this._indexes,f.materializeTpo),this._tpoBlockSets=L(e.tpoBlockSets,this._indexes,w.materializeTpoBlockSet),this._tpoBlockSetsByStyleIdAndTpoId=(0,B.setsByStyleIdAndKey)(this._tpoBlockSets,(e=>e.tpoId)),this._tpoVolumeRowsByStyleIdAndTpoId=(0,B.setsByStyleIdAndKey)(this._tpoVolumeRows,(e=>e.tpoId)),this._tpoLevelGroups=L(e.tpoLevels,this._indexes,T.materializeTpoLevelGroup),this._tpoVolumeRows=L(e.tpoVolumeRows,this._indexes,v.materializeTpoVolumeRow)}else if("state"===e){const e=t;this._indexes=e.indexes||[],this._vertlines=k(e.vertlines,this._indexes,r.materializeVertLine),this._horizlines=k(e.horizlines,this._indexes,s.materializeHorizLine),this._polygons=k(e.polygons,this._indexes,l.materializePolygon),this._hhists=k(e.hhists,this._indexes,o.materializeHHist),this._backgrounds=k(e.backgrounds,this._indexes,a.materializeBackground),this._lines=k(e.lines,this._indexes,c.materializeLine),this._hlines=k(e.hlines,this._indexes,d.materializeLevel),this._textmarks=k(e.textmarks,this._indexes,m.materializeTextMark),this._shapemarks=k(e.shapemarks,this._indexes,h.materializeShapeMark),this._trendchannels=k(e.trendchannels,this._indexes,x.materializeTrendChannel),this._dwglabels=k(e.dwglabels,this._indexes,u.materializeDwgLabel),this._dwglines=k(e.dwglines,this._indexes,p.materializeDwgLine),this._dwgboxes=k(e.dwgboxes,this._indexes,I.materializeDwgBox),this._dwgtables=k(e.dwgtables,this._indexes,g.materializeDwgTable),this._dwgtablecells=k(e.dwgtablecells,this._indexes,g.materializeDwgTableCell),this._dwglinefills=k(e.dwglinefills,this._indexes,_.materializeDwgLineFill),this._tpos=k(e.tpos,this._indexes,f.materializeTpo),this._tpoBlockSets=k(e.tpoBlockSets,this._indexes,w.materializeTpoBlockSet),
this._tpoLevelGroups=k(e.tpoLevels,this._indexes,T.materializeTpoLevelGroup),this._tpoVolumeRows=k(e.tpoVolumeRows,this._indexes,v.materializeTpoVolumeRow)}this._hhistsByTimePointIndex=(0,b.splitHHistsByTimePointIndex)(this._hhists)}horizlines(){return this._horizlines}vertlines(){return this._vertlines}lines(){return this._lines}hlines(){return this._hlines}textmarks(){return this._textmarks}shapemarks(){return this._shapemarks}backgrounds(){return this._backgrounds}polygons(){return this._polygons}trendchannels(){return this._trendchannels}hhists(){return this._hhists}dwglabels(){return this._dwglabels}dwglines(){return this._dwglines}dwgboxes(){return this._dwgboxes}dwgtables(){return this._dwgtables}dwgtablecells(){return this._dwgtablecells}dwglinefills(){return this._dwglinefills}tpos(){return this._tpos}tpoBlockSets(){return this._tpoBlockSets}tpoLevels(){return this._tpoLevelGroups}tpoBlockSetsByStyleAndTpoId(e,t){var i;return null===(i=this._tpoBlockSetsByStyleIdAndTpoId)||void 0===i?void 0:i.get(e,t)}tpoVolumeRows(){return this._tpoVolumeRows}tpoVolumeRowByStyleAndTpoId(e,t){var i;return null===(i=this._tpoVolumeRowsByStyleIdAndTpoId)||void 0===i?void 0:i.get(e,t)}logs(){return this._logs}hhistsByTimePointIndex(){return this._hhistsByTimePointIndex}}function L(e,t,i){const n=new Map;return e.forEach(((e,s)=>{const r=n.get(s)||new Set;e.forEach((e=>{const n=i(e,t);null!==n&&r.add(n)})),n.set(s,r)})),n}function k(e,t,i){const n=new Map;if(void 0===e)return n;for(const s of e){const e=s.styleId,r=n.get(e)||new Set;s.data.forEach((e=>{const n=i(e,t);null!==n&&r.add(n)})),n.set(e,r)}return n}function z(e,t,i,n,s,r){const o=[];return e.forEach(((e,l)=>{e.forEach((e=>{(null===s||n(e,s))&&function(e,t,i){let n=null;for(const i of e)i.styleId===t&&(n=i);null===n&&(n={styleId:t,data:[]},e.push(n)),n.data.push(i)}(o,l,r(e,t(e),i))}))})),o.length>0?o:void 0}function D(){return new y}function P(e){return new y("state",e)}function C(e,t){return!0}function E(e,t){const i=function(e){const t=new Set;e.horizlines().forEach(((e,i)=>{e.forEach((e=>{t.add(e.startIndex),t.add(e.endIndex)}))})),e.vertlines().forEach(((e,i)=>{e.forEach((e=>{t.add(e.index)}))})),e.lines().forEach(((e,i)=>{e.forEach((e=>{t.add(e.startIndex),t.add(e.endIndex)}))})),e.textmarks().forEach(((e,i)=>{e.forEach((e=>{t.add(e.time)}))})),e.shapemarks().forEach(((e,i)=>{e.forEach((e=>{t.add(e.time)}))})),e.backgrounds().forEach(((e,i)=>{e.forEach((e=>{t.add(null!==e.start?e.start:n.INVALID_TIME_POINT_INDEX),t.add(e.stop)}))})),e.polygons().forEach(((e,i)=>{e.forEach((e=>{e.points.forEach((e=>{t.add(e.index)}))}))})),e.trendchannels().forEach(((e,i)=>{e.forEach((e=>{t.add(e.startIndex),t.add(e.endIndex)}))})),e.hhists().forEach(((e,i)=>{e.forEach((e=>{t.add(e.firstBarTime),t.add(e.lastBarTime)}))})),e.dwglabels().forEach(((e,i)=>{e.forEach((e=>{t.add(e.x)}))})),e.dwglines().forEach(((e,i)=>{e.forEach((e=>{var i,s;t.add(null!==(i=e.x1)&&void 0!==i?i:n.INVALID_TIME_POINT_INDEX),t.add(null!==(s=e.x2)&&void 0!==s?s:n.INVALID_TIME_POINT_INDEX)}))})),
e.dwgboxes().forEach(((e,i)=>{e.forEach((e=>{var i,s;t.add(null!==(i=e.left)&&void 0!==i?i:n.INVALID_TIME_POINT_INDEX),t.add(null!==(s=e.right)&&void 0!==s?s:n.INVALID_TIME_POINT_INDEX)}))})),e.tpos().forEach(((e,i)=>{e.forEach((e=>{t.add(e.firstBarTime),t.add(e.lastBarTime)}))}));const i=Array.from(t);return i.sort(((e,t)=>e-t)),i}(e),b={indexes:i};let B=0;const y=()=>++B,L=e=>e.id;return b.vertlines=z(e.vertlines(),y,i,r.isVertLineInBarsRange,t,r.dematerializeVertLine),b.horizlines=z(e.horizlines(),y,i,s.isHorizLineInBarsRange,t,s.dematerializeHorizLine),b.polygons=z(e.polygons(),y,i,l.isPolygonInBarsRange,t,l.dematerializePolygon),b.hhists=z(e.hhists(),y,i,o.isHHistInBarsRange,t,o.dematerializeHHist),b.backgrounds=z(e.backgrounds(),y,i,a.isBackgroundInBarsRange,t,a.dematerializeBackground),b.lines=z(e.lines(),y,i,c.isLineInBarsRange,t,c.dematerializeLine),b.hlines=z(e.hlines(),y,i,C,t,d.dematerializeLevel),b.textmarks=z(e.textmarks(),y,i,m.isTextMarkInBarsRange,t,m.dematerializeTextMark),b.shapemarks=z(e.shapemarks(),y,i,h.isShapeMarkInBarsRange,t,h.dematerializeShapeMark),b.trendchannels=z(e.trendchannels(),y,i,x.isTrendChannelInBarsRange,t,x.dematerializeTrendChannel),b.dwglabels=z(e.dwglabels(),y,i,u.isDwgLabelInBarsRange,t,u.dematerializeDwgLabel),b.dwglines=z(e.dwglines(),L,i,p.isDwgLineInBarsRange,t,p.dematerializeDwgLine),b.dwgboxes=z(e.dwgboxes(),y,i,I.isDwgBoxInBarsRange,t,I.dematerializeDwgBox),b.dwgtables=z(e.dwgtables(),L,i,C,t,g.dematerializeDwgTable),b.dwgtablecells=z(e.dwgtablecells(),y,i,C,t,g.dematerializeDwgTableCell),b.dwglinefills=z(e.dwglinefills(),y,i,C,t,_.dematerializeDwgLineFill),b.tpos=z(e.tpos(),L,i,C,t,f.dematerializeTpo),b.tpoBlockSets=z(e.tpoBlockSets(),y,i,C,t,w.dematerializeTpoBlockSet),b.tpoLevels=z(e.tpoLevels(),y,i,C,t,T.dematerializeTpoLevelGroup),b.tpoVolumeRows=z(e.tpoVolumeRows(),y,i,C,t,v.dematerializeTpoVolumeRow),b}},735758:(e,t,i)=>{function n(e,t){return new s(e,t)}i.d(t,{setsByStyleIdAndKey:()=>n});class s{constructor(e,t){this._setsByStyleIdAndKey=new Map,this._observableCollections=e,this._keyGetter=t}get(e,t){const i=this._observableCollections.get(e);if(!i)return;let n=this._setsByStyleIdAndKey.get(e);if(!n){n=new Map,this._setsByStyleIdAndKey.set(e,n);for(const e of i)this._addPrimitiveToSet(n,e);"cleared"in i&&(i.cleared().subscribe(this,this._clearSetsByKey.bind(this,n)),i.changed().subscribe(this,this._handleCollectionChanges.bind(this,n)))}return n.get(t)}_addPrimitiveToSet(e,t){const i=this._keyGetter(t);let n=e.get(i);n||(n=new Set,e.set(i,n)),n.add(t)}_clearSetsByKey(e){e.clear()}_handleCollectionChanges(e,t){var i;for(const n of t.removed)null===(i=e.get(this._keyGetter(n)))||void 0===i||i.delete(n);for(const i of t.created)this._addPrimitiveToSet(e,i)}}},593885:(e,t,i)=>{i.d(t,{TextMarkType:()=>n,containsTextMarkTimePointIndexes:()=>l,dematerializeTextMark:()=>d,isTextMarkInBarsRange:()=>c,materializeTextMark:()=>a});var n,s,r=i(732149),o=i(178389);!function(e){e.Triangle="triangle",e.Rectangle="rectangle"}(n||(n={})),function(e){e.Verdana="Verdana",
e.CourierNew="Courier New",e.TimesNewRoman="Times New Roman",e.Arial="Arial"}(s||(s={}));const l=!0;function a(e,t){if(e.time>=t.length)return null;const i=t[e.time];return i===r.INVALID_TIME_POINT_INDEX?null:{time:i,offset:e.offset,text:e.text,price:e.price}}function d(e,t,i){const n=(0,o.ensureTimePointIndexIndex)(i.indexOf(e.time));return{id:t,...e,time:n}}function c(e,t){var i;return t.contains(e.time+(null!==(i=e.offset)&&void 0!==i?i:0))}},952499:(e,t,i)=>{i.d(t,{containsTpoBlockSetTimePointIndexes:()=>n,dematerializeTpoBlockSet:()=>r,materializeTpoBlockSet:()=>s});const n=!1;function s(e,t){return{tpoId:e.tpoId,blocks:e.blocks,rowIndex:e.rowIndex}}function r(e,t,i){return{id:t,tpoId:e.tpoId,blocks:e.blocks,rowIndex:e.rowIndex}}},583884:(e,t,i)=>{i.d(t,{containsTpoLevelGroupTimePointIndexes:()=>n,dematerializeTpoLevelGroup:()=>r,materializeTpoLevelGroup:()=>s});const n=!1;function s(e,t){return{tpoId:e.tpoId,tpoPocIndex:e.tpoPocIndex,tpoValIndex:e.tpoValIndex,tpoVahIndex:e.tpoVahIndex,tpoMidpointIndex:e.tpoMidpointIndex,volumePocIndex:e.volumePocIndex,volumeValIndex:e.volumeValIndex,volumeVahIndex:e.volumeVahIndex}}function r(e,t,i){return{id:t,tpoId:e.tpoId,tpoPocIndex:e.tpoPocIndex,tpoValIndex:e.tpoValIndex,tpoVahIndex:e.tpoVahIndex,tpoMidpointIndex:e.tpoMidpointIndex,volumePocIndex:e.volumePocIndex,volumeValIndex:e.volumeValIndex,volumeVahIndex:e.volumeVahIndex}}},686242:(e,t,i)=>{i.d(t,{containsTpoVolumeRowTimePointIndexes:()=>n,dematerializeTpoVolumeRow:()=>r,materializeTpoVolumeRow:()=>s});const n=!1;function s(e,t){return{tpoId:e.tpoId,rowIndex:e.rowIndex,volume:e.volume}}function r(e,t,i){return{id:t,tpoId:e.tpoId,rowIndex:e.rowIndex,volume:e.volume}}},755470:(e,t,i)=>{i.d(t,{containsTpoTimePointIndexes:()=>o,dematerializeTpo:()=>a,materializeTpo:()=>l});var n=i(650151),s=i(732149),r=i(178389);const o=!0;function l(e,t){if(e.firstBarTime>=t.length||e.lastBarTime>=t.length)return null;const i=t[e.firstBarTime],r=t[e.lastBarTime];return i===s.INVALID_TIME_POINT_INDEX||r===s.INVALID_TIME_POINT_INDEX?null:((0,n.assert)(i<=r,"firstBarTime should not exceed lastBarTime"),{id:e.id,firstBarTime:i,lastBarTime:r,priceRange:e.priceRange})}function a(e,t,i){return{id:t,firstBarTime:(0,r.ensureTimePointIndexIndex)(i.indexOf(e.firstBarTime)),lastBarTime:(0,r.ensureTimePointIndexIndex)(i.indexOf(e.lastBarTime)),priceRange:e.priceRange}}},180857:(e,t,i)=>{i.d(t,{containsTrendChannelTimePointIndexes:()=>o,dematerializeTrendChannel:()=>a,isTrendChannelInBarsRange:()=>d,materializeTrendChannel:()=>l});var n=i(650151),s=i(732149),r=i(178389);const o=!0;function l(e,t){if(e.startIndex>=t.length||e.endIndex>=t.length)return null;const i=t[e.startIndex],r=t[e.endIndex];return i===s.INVALID_TIME_POINT_INDEX||r===s.INVALID_TIME_POINT_INDEX?null:((0,n.assert)(i<=r,"startIndex should not exceed endIndex"),{startIndex:i,endIndex:r,extendLeft:e.extendLeft,extendRight:e.extendRight,startHighPrice:e.startHighPrice,startLowPrice:e.startLowPrice,endHighPrice:e.endHighPrice,transparency:e.transparency})}function a(e,t,i){const n=(0,
r.ensureTimePointIndexIndex)(i.indexOf(e.startIndex)),s=(0,r.ensureTimePointIndexIndex)(i.indexOf(e.endIndex));return{id:t,...e,startIndex:n,endIndex:s}}function d(e,t){const i=Math.min(e.startIndex,e.endIndex),n=Math.max(e.startIndex,e.endIndex);if(t.contains(i)||t.contains(n)||i<t.firstBar()&&n>t.lastBar())return!0;const s=e.startIndex<e.endIndex?e.extendLeft:e.extendRight,r=e.startIndex<e.endIndex?e.extendRight:e.extendLeft;return n<t.firstBar()&&r||i>t.lastBar()&&s}},329081:(e,t,i)=>{i.d(t,{containsVertLineTimePointIndexes:()=>r,dematerializeVertLine:()=>l,isVertLineInBarsRange:()=>a,materializeVertLine:()=>o});var n=i(732149),s=i(178389);const r=!0;function o(e,t){if(e.index>=t.length)return null;const i=t[e.index];return i===n.INVALID_TIME_POINT_INDEX?null:{startPrice:e.startPrice,endPrice:e.endPrice,index:i,extendTop:e.extendTop,extendBottom:e.extendBottom}}function l(e,t,i){const n=(0,s.ensureTimePointIndexIndex)(i.indexOf(e.index));return{id:t,...e,index:n}}function a(e,t){return t.contains(e.index)}},989709:(e,t,i)=>{function n(e){const t=new Map;return e.plots.forEach(((e,i)=>{t.set(e.id,(e=>e[i+1]))})),t}function s(e,t){return null==e[t]}i.d(t,{studyEmptyPlotValuePredicate:()=>s,studyPlotFunctionMap:()=>n})}}]);